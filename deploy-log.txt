========================================
DevOps Lab - Kubernetes Deployment Script
========================================

Checking for Kubernetes installation...
[0;32mâœ“[0m Minikube is installed
[0;32mâœ“[0m Minikube is running
Checking Kubernetes cluster connectivity...
[0;32mâœ“[0m Kubernetes cluster is accessible (using minikube)
Kubernetes control plane is running at https://192.168.58.2:8443
CoreDNS is running at https://192.168.58.2:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

Step 1: Applying Node App manifests...
========================================
namespace/devops-lab unchanged
configmap/node-app-config unchanged
deployment.apps/node-app unchanged
service/node-app unchanged
ingress.networking.k8s.io/node-app unchanged
[0;32mâœ“[0m Node App manifests applied

Step 2: Applying Prometheus manifests...
========================================
namespace/monitoring unchanged
serviceaccount/prometheus unchanged
clusterrole.rbac.authorization.k8s.io/prometheus unchanged
clusterrolebinding.rbac.authorization.k8s.io/prometheus unchanged
configmap/prometheus-config unchanged
persistentvolumeclaim/prometheus-storage unchanged
deployment.apps/prometheus configured
service/prometheus unchanged
[0;32mâœ“[0m Prometheus manifests applied

Step 3: Applying Grafana manifests...
========================================
secret/grafana-credentials configured
configmap/grafana-datasources unchanged
persistentvolumeclaim/grafana-storage unchanged
deployment.apps/grafana unchanged
service/grafana unchanged
[0;32mâœ“[0m Grafana manifests applied

Step 4: Fixing Grafana permissions...
========================================
[1;33mâš [0m Patching Grafana deployment to run as root (fixes PVC permission issues)
[1;33mâš [0m Patch may have already been applied
deployment.apps/grafana patched (no change)
[0;32mâœ“[0m Grafana permissions fixed

Step 5: Applying Jenkins manifests...
========================================
namespace/jenkins unchanged
serviceaccount/jenkins unchanged
clusterrole.rbac.authorization.k8s.io/jenkins unchanged
clusterrolebinding.rbac.authorization.k8s.io/jenkins unchanged
persistentvolumeclaim/jenkins-home unchanged
deployment.apps/jenkins configured
service/jenkins unchanged
[0;32mâœ“[0m Jenkins manifests applied

Step 6: Waiting for initial pod creation...
========================================
